---
layout: post
title: 实现高质量equals的诀窍
tags: java基础
author: neal

---
* content
{:toc}

## 实现高质量equals的诀窍
1. **使用 "==" 操作符检查 "参数是否为这个对象的引用"：**
如果是，则返回true。在进行比较操作比较昂贵时，可以这样优化；
因为如果是对象的引用，无疑可以确定equals是相等的。
2. **使用`instanceof`操作符检查"参数是否为正确的类型":**
如果不是，则返回false。所谓正确的类型是指equals方法所在的类，
或者该类实现的接口。另外，`instanceof`操作符的第一个参数如果是null，
则一定返回false，所以equals方法入参(例如obj)没必要进行非空判断。




3. **把参数转换为正确的类型：**
因为之前进行过`instanceof`确认，可以确保转换成功。
4. **对于该类的每个关键的域(即对应属性),检查参数中的域是否与该对象中的对应域相匹配。**

---
引用：《Effective Java》第三版。



